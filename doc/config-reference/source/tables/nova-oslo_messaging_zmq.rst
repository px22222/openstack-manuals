..
    Warning: Do not edit this file. It is automatically generated from the
    software project's code and your changes will be overwritten.

    The tool to generate this file lives in openstack-doc-tools repository.

    Please make any changes needed in the code, then run the
    autogenerate-config-doc tool from the openstack-doc-tools repository, or
    ask for help on the documentation mailing list, IRC channel or meeting.

.. _nova-oslo_messaging_zmq:

.. list-table:: Description of oslo_messaging_zmq configuration options
   :header-rows: 1
   :class: config-ref-table

   * - Configuration option = Default value
     - Description

   * - ``rpc_zmq_bind_address`` = ``*``

     - (String) ZeroMQ bind address. Should be a wildcard (*), an ethernet interface, or IP. The "host" option should point or resolve to this address.

   * - ``rpc_zmq_matchmaker`` = ``redis``

     - (String) MatchMaker driver.

   * - ``rpc_zmq_contexts`` = ``1``

     - (Integer) Number of ZeroMQ contexts, defaults to 1.

   * - ``rpc_zmq_topic_backlog`` = ``None``

     - (Integer) Maximum number of ingress messages to locally buffer per topic. Default is unlimited.

   * - ``rpc_zmq_ipc_dir`` = ``/var/run/openstack``

     - (String) Directory for holding IPC sockets.

   * - ``rpc_zmq_host`` = ``localhost``

     - (String) Name of this node. Must be a valid hostname, FQDN, or IP address. Must match "host" option, if running Nova.

   * - ``zmq_linger`` = ``-1``

     - (Integer) Number of seconds to wait before all pending messages will be sent after closing a socket. The default value of -1 specifies an infinite linger period. The value of 0 specifies no linger period. Pending messages shall be discarded immediately when the socket is closed. Positive values specify an upper bound for the linger period.

   * - ``rpc_poll_timeout`` = ``1``

     - (Integer) The default number of seconds that poll should wait. Poll raises timeout exception when timeout expired.

   * - ``zmq_target_expire`` = ``300``

     - (Integer) Expiration timeout in seconds of a name service record about existing target ( < 0 means no timeout).

   * - ``zmq_target_update`` = ``180``

     - (Integer) Update period in seconds of a name service record about existing target.

   * - ``use_pub_sub`` = ``False``

     - (Boolean) Use PUB/SUB pattern for fanout methods. PUB/SUB always uses proxy.

   * - ``use_router_proxy`` = ``False``

     - (Boolean) Use ROUTER remote proxy.

   * - ``use_dynamic_connections`` = ``False``

     - (Boolean) This option makes direct connections dynamic or static. It makes sense only with use_router_proxy=False which means to use direct connections for direct message types (ignored otherwise).

   * - ``zmq_failover_connections`` = ``2``

     - (Integer) How many additional connections to a host will be made for failover reasons. This option is actual only in dynamic connections mode.

   * - ``rpc_zmq_min_port`` = ``49153``

     - (Port number) Minimal port number for random ports range.

   * - ``rpc_zmq_max_port`` = ``65536``

     - (Integer) Maximal port number for random ports range.

   * - ``rpc_zmq_bind_port_retries`` = ``100``

     - (Integer) Number of retries to find free port number before fail with ZMQBindError.

   * - ``rpc_zmq_serialization`` = ``json``

     - (String) Default serialization mechanism for serializing/deserializing outgoing/incoming messages

   * - ``zmq_immediate`` = ``True``

     - (Boolean) This option configures round-robin mode in zmq socket. True means not keeping a queue when server side disconnects. False means to keep queue and messages even if server is disconnected, when the server appears we send all accumulated messages to it.

   * - ``zmq_tcp_keepalive`` = ``-1``

     - (Integer) Enable/disable TCP keepalive (KA) mechanism. The default value of -1 (or any other negative value) means to skip any overrides and leave it to OS default; 0 and 1 (or any other positive value) mean to disable and enable the option respectively.

   * - ``zmq_tcp_keepalive_idle`` = ``-1``

     - (Integer) The duration between two keepalive transmissions in idle condition. The unit is platform dependent, for example, seconds in Linux, milliseconds in Windows etc. The default value of -1 (or any other negative value and 0) means to skip any overrides and leave it to OS default.

   * - ``zmq_tcp_keepalive_cnt`` = ``-1``

     - (Integer) The number of retransmissions to be carried out before declaring that remote end is not available. The default value of -1 (or any other negative value and 0) means to skip any overrides and leave it to OS default.

   * - ``zmq_tcp_keepalive_intvl`` = ``-1``

     - (Integer) The duration between two successive keepalive retransmissions, if acknowledgement to the previous keepalive transmission is not received. The unit is platform dependent, for example, seconds in Linux, milliseconds in Windows etc. The default value of -1 (or any other negative value and 0) means to skip any overrides and leave it to OS default.

   * - ``rpc_thread_pool_size`` = ``100``

     - (Integer) Maximum number of (green) threads to work concurrently.

   * - ``rpc_message_ttl`` = ``300``

     - (Integer) Expiration timeout in seconds of a sent/received message after which it is not tracked anymore by a client/server.

   * - ``rpc_use_acks`` = ``False``

     - (Boolean) Wait for message acknowledgements from receivers. This mechanism works only via proxy without PUB/SUB.

   * - ``rpc_ack_timeout_base`` = ``15``

     - (Integer) Number of seconds to wait for an ack from a cast/call. After each retry attempt this timeout is multiplied by some specified multiplier.

   * - ``rpc_ack_timeout_multiplier`` = ``2``

     - (Integer) Number to multiply base ack timeout by after each retry attempt.

   * - ``rpc_retry_attempts`` = ``3``

     - (Integer) Default number of message sending attempts in case of any problems occurred: positive value N means at most N retries, 0 means no retries, None or -1 (or any other negative values) mean to retry forever. This option is used only if acknowledgments are enabled.

   * - ``subscribe_on`` =

     - (List) List of publisher hosts SubConsumer can subscribe on. This option has higher priority then the default publishers list taken from the matchmaker.
