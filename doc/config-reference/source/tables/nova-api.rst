..
    Warning: Do not edit this file. It is automatically generated from the
    software project's code and your changes will be overwritten.

    The tool to generate this file lives in openstack-doc-tools repository.

    Please make any changes needed in the code, then run the
    autogenerate-config-doc tool from the openstack-doc-tools repository, or
    ask for help on the documentation mailing list, IRC channel or meeting.

.. _nova-api:

.. list-table:: Description of api configuration options
   :header-rows: 1
   :class: config-ref-table

   * - Configuration option = Default value
     - Description

   * - ``max_limit`` = ``1000``

     - (Integer) As a query can potentially return many thousands of items, you can limit the maximum number of items in a single response by setting this option.

   * - ``vendordata_dynamic_read_timeout`` = ``5``

     - (Integer) Maximum wait time for an external REST service to return data once connected.

       Possible values:

       * Any integer. Note that instance start is blocked during this wait time, so this value should be kept small.

       Related options:

       * vendordata_providers

       * vendordata_dynamic_targets

       * vendordata_dynamic_ssl_certfile

       * vendordata_dynamic_connect_timeout

       * vendordata_dynamic_failure_fatal

   * - ``vendordata_dynamic_ssl_certfile`` =

     - (String) Path to an optional certificate file or CA bundle to verify dynamic vendordata REST services ssl certificates against.

       Possible values:

       * An empty string, or a path to a valid certificate file

       Related options:

       * vendordata_providers

       * vendordata_dynamic_targets

       * vendordata_dynamic_connect_timeout

       * vendordata_dynamic_read_timeout

       * vendordata_dynamic_failure_fatal

   * - ``neutron_default_tenant_id`` = ``default``

     - (String) Tenant ID for getting the default network from Neutron API (also referred in some places as the 'project ID') to use.

       Related options:

       * use_neutron_default_nets

   * - ``config_drive_skip_versions`` = ``1.0 2007-01-19 2007-03-01 2007-08-29 2007-10-10 2007-12-15 2008-02-01 2008-09-01``

     - (String) When gathering the existing metadata for a config drive, the EC2-style metadata is returned for all versions that don't appear in this option. As of the Liberty release, the available versions are:

       * 1.0

       * 2007-01-19

       * 2007-03-01

       * 2007-08-29

       * 2007-10-10

       * 2007-12-15

       * 2008-02-01

       * 2008-09-01

       * 2009-04-04

       The option is in the format of a single string, with each version separated by a space.

       Possible values:

       * Any string that represents zero or more versions, separated by spaces.

   * - ``hide_server_address_states`` = ``building``

     - (List) This option is a list of all instance states for which network address information should not be returned from the API.

       Possible values:

        A list of strings, where each string is a valid VM state, as defined in nova/compute/vm_states.py. As of the Newton release, they are:

       * "active"

       * "building"

       * "paused"

       * "suspended"

       * "stopped"

       * "rescued"

       * "resized"

       * "soft-delete"

       * "deleted"

       * "error"

       * "shelved"

       * "shelved_offloaded"

   * - ``vendordata_dynamic_connect_timeout`` = ``5``

     - (Integer) Maximum wait time for an external REST service to connect.

       Possible values:

       * Any integer with a value greater than three (the TCP packet retransmission timeout). Note that instance start may be blocked during this wait time, so this value should be kept small.

       Related options:

       * vendordata_providers

       * vendordata_dynamic_targets

       * vendordata_dynamic_ssl_certfile

       * vendordata_dynamic_read_timeout

       * vendordata_dynamic_failure_fatal

   * - ``fping_path`` = ``/usr/sbin/fping``

     - (String) The full path to the fping binary.

   * - ``allow_instance_snapshots`` = ``True``

     - (Boolean) Operators can turn off the ability for a user to take snapshots of their instances by setting this option to False. When disabled, any attempt to take a snapshot will result in a HTTP 400 response ("Bad Request").

   * - ``compute_link_prefix`` = ``None``

     - (String) This string is prepended to the normal URL that is returned in links to the OpenStack Compute API. If it is empty (the default), the URLs are returned unchanged.

       Possible values:

       * Any string, including an empty string (the default).

   * - ``vendordata_jsonfile_path`` = ``None``

     - (String) Cloud providers may store custom data in vendor data file that will then be available to the instances via the metadata service, and to the rendering of config-drive. The default class for this, JsonFileVendorData, loads this information from a JSON file, whose path is configured by this option. If there is no path set by this option, the class returns an empty dictionary.

       Possible values:

       * Any string representing the path to the data file, or an empty string (default).

   * - ``glance_link_prefix`` = ``None``

     - (String) This string is prepended to the normal URL that is returned in links to Glance resources. If it is empty (the default), the URLs are returned unchanged.

       Possible values:

       * Any string, including an empty string (the default).

   * - ``enable_instance_password`` = ``True``

     - (Boolean) Enables returning of the instance password by the relevant server API calls such as create, rebuild, evacuate, or rescue. If the hypervisor does not support password injection, then the password returned will not be correct, so if your hypervisor does not support password injection, set this to False.

   * - ``vendordata_dynamic_targets`` =

     - (List) A list of targets for the dynamic vendordata provider. These targets are of the form <name>@<url>.

       The dynamic vendordata provider collects metadata by contacting external REST services and querying them for information about the instance. This behaviour is documented in the vendordata.rst file in the nova developer reference.

   * - ``use_forwarded_for`` = ``False``

     - (Boolean) When True, the 'X-Forwarded-For' header is treated as the canonical remote address. When False (the default), the 'remote_address' header is used.

       You should only enable this if you have an HTML sanitizing proxy.

   * - ``use_neutron_default_nets`` = ``False``

     - (Boolean) When True, the TenantNetworkController will query the Neutron API to get the default networks to use.

       Related options:

       * neutron_default_tenant_id

   * - ``vendordata_dynamic_failure_fatal`` = ``False``

     - (Boolean) Should failures to fetch dynamic vendordata be fatal to instance boot?

       Related options:

       * vendordata_providers

       * vendordata_dynamic_targets

       * vendordata_dynamic_ssl_certfile

       * vendordata_dynamic_connect_timeout

       * vendordata_dynamic_read_timeout

   * - ``vendordata_providers`` =

     - (List) A list of vendordata providers.

       vendordata providers are how deployers can provide metadata via configdrive and metadata that is specific to their deployment. There are currently two supported providers: StaticJSON and DynamicJSON.

       StaticJSON reads a JSON file configured by the flag vendordata_jsonfile_path and places the JSON from that file into vendor_data.json and vendor_data2.json.

       DynamicJSON is configured via the vendordata_dynamic_targets flag, which is documented separately. For each of the endpoints specified in that flag, a section is added to the vendor_data2.json.

       For more information on the requirements for implementing a vendordata dynamic endpoint, please see the vendordata.rst file in the nova developer reference.

       Possible values:

       * A list of vendordata providers, with StaticJSON and DynamicJSON being current options.

       Related options:

       * vendordata_dynamic_targets

       * vendordata_dynamic_ssl_certfile

       * vendordata_dynamic_connect_timeout

       * vendordata_dynamic_read_timeout

       * vendordata_dynamic_failure_fatal

   * - ``metadata_cache_expiration`` = ``15``

     - (Integer) This option is the time (in seconds) to cache metadata. When set to 0, metadata caching is disabled entirely; this is generally not recommended for performance reasons. Increasing this setting should improve response times of the metadata API when under heavy load. Higher values may increase memory usage, and result in longer times for host metadata changes to take effect.

   * - ``auth_strategy`` = ``keystone``

     - (String) This determines the strategy to use for authentication: keystone or noauth2. 'noauth2' is designed for testing only, as it does no actual credential checking. 'noauth2' provides administrative credentials only if 'admin' is specified as the username.
